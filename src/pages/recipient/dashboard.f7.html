<!-- Screen D1 -->
<template>
    <div class="page" id="memories-dashboard">
        <div class="artwork"></div>
        <div class="navbar">
            <div class="navbar-inner sliding">
                <div class="header-cont">
                    <div class="header">
                        <a href="" class="menu-btn">
                            <i class="icons material-icons">menu</i>
                        </a>
                        <h1 class="title">{{localize "memories"}}</h1>
                        <div class="none"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- agregar o quitar none de toolbar para quitarlo y ponerlo -->
		<div class="toolbar toolbar-bottom">
			<div class="toolbar-inner">
				<a class="item-link" href="/memories/home/user/{{CurrentUser}}">
					<i class="icon material-icons cloud grey">cloud</i>
					<span class="tabbar-label">{{localize "my_memories"}}</span>
				</a>
				<a class="item-link" href="#">
					<div class="custom-icon">
						<i class="icon material-icons cloud">cloud</i>
						<i class="icon material-icons people">people</i>
					</div>
					<span class="tabbar-label two">{{localize "shared_with_me"}}</span>
				</a>
			</div>
		</div>
        <div class="page-content">
            <div class="sqr_bck" id="sqr1"></div>
            <div class="sqr_bck" id="sqr2"></div>
            <div class="sqr_bck" id="sqr3"></div>
            <div data-space-between="20" data-slides-per-view="1.1" data-centered-slides="true"
                class="swiper-container swiper-init memories-swiper">
                <div class="swiper-wrapper">
                    {{#js_if "this.Memories.toString() != []"}}
                    {{#each Memories}}
                    <div class="swiper-slide">
                        <div class="card complete v_dashboard_memory">
                            <div class="card-header">
                                <div class="title-card">
                                    <h1>{{title}}</h1>
                                    <p class="sender">{{localize "sent_by"}} {{owner}}</p>
                                </div>
                                <a href="#" class="info popover-open" data-popover=".popover-info">
                                    <span class="material-icons">info</span>
                                </a>
                            </div>
                            <div class="card-content">
                                <div class="cover">
                                    {{#js_if "this.cover != ''"}}
                                    <img src="{{@root.Server}}{{cover}}" alt="">
                                    {{else}}
                                    <img src="" alt="">
                                    {{/js_if}}
                                </div>
                                <p class="desc">{{desc}}</p>
                                <div class="icons">
                                    <span class="material-icons">comment</span>
                                    <span class="material-icons">image</span>
                                    <span class="material-icons">videocam</span>
                                    <span class="material-icons grey">mic</span>
                                    <span class="material-icons grey">pin_drop</span>
                                    <span class="material-icons">play_circle_filled</span>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="btns-cont center">
                                    <!-- <a href="/memories/view/memory/{{id}}" class="button color-blue round small">See</a> -->
                                    <a href="/memory/{{id}}" class="button color-blue round small">{{localize "see"}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{/each}}
                    {{else}}
                        No memories have been shared with you yet
                        <br>
                        [Insert message here]
                    {{/js_if}}
                </div>
            </div>
            <div class="btns-cont center create">
                <a id="create-memories" class="button color-white round large">{{localize "create_memories"}}</a>
            </div>
            <div class="footer">
                <div class="sqr_bck" id="sqr4"></div>
            </div>

        </div>
        <div class="popover popover-info space-on-left">
            <div class="popover-inner">
                <div class="list">
                    <ul>
                        <li class="content">
                            <span class="material-icons grey-light">image</span>
                            {{localize "no_content"}}
                        </li>
                        <li>
                            <span class="material-icons">textsms</span>
                            {{localize "text"}}
                        </li>
                        <li>
                            <span class="material-icons">image</span>
                            {{localize "pictures"}}
                        </li>
                        <li>
                            <span class="material-icons">videocam</span>
                            Video
                        </li>
                    </ul>
                </div>
                <div class="list">
                    <ul>
                        <li class="content">
                            <span class="material-icons blue">image</span>
                            {{localize "content"}}
                        </li>
                        <li>
                            <span class="material-icons">mic</span>
                            Audio
                        </li>
                        <li>
                            <span class="material-icons">pin_drop</span>
                            GPS
                        </li>
                        <li>
                            <span class="material-icons">play_circle_filled</span>
                            {{localize "on_demand"}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import $$ from "dom7";
    import localforage from "localforage";
    export default {
        on: {
            pageInit: function (e, page) {
                var self = this;
                var app = self.$app;
                // var memory = {};
                // memory.name = "nombre";
                // memory.owner = "owner";
                // memory.cover = "../../static/img/background.jpg";
                // memory.description = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris"
                // memory.text = true; /* checa si hay comentarios o text */
                // memory.images = true; /* checa si hay imagenes */
                // memory.video = true; /* checa so hay videos */
                // memory.audio = false; /* checa si hay audios */
                // memory.location = false; /* checa si hay ubicacion */
                // memory.ondemand = true; /* checa si on demand esta activo */

                // $$('<div class="swiper-slide">' +
                //     '<div class="card complete v_dashboard_memory">' +
                //     '<div class="card-header">' +
                //     '<div class="title-card">' +
                //     '<h1>' + memory.name + '</h1>' +
                //     '<p class="sender">Sent by: ' + memory.owner + '</p>' +
                //     '</div>' +
                //     '<a href="#" class="info popover-open" data-popover=".popover-info">' +
                //     '<span class="material-icons">info</span>' +
                //     '</a>' +
                //     '</div>' +
                //     '<div class="card-content">' +
                //     '<div class="cover">' +
                //     '<img src="' + memory.cover + '" alt="">' +
                //     '</div>' +
                //     '<p class="desc">' +
                //     memory.description +
                //     '</p>' +
                //     '<div class="icons">' +
                //     '<span class="material-icons ' + (memory.text == false ? "grey" : "") + '">comment</span>' +
                //     '<span class="material-icons ' + (memory.images == false ? "grey" : "") + '">image</span>' +
                //     '<span class="material-icons ' + (memory.video == false ? "grey" : "") + '">videocam</span>' +
                //     '<span class="material-icons ' + (memory.audio == false ? "grey" : "") + '">mic</span>' +
                //     '<span class="material-icons ' + (memory.location == false ? "grey" : "") + '">pin_drop</span>' +
                //     '<span class="material-icons ' + (memory.ondemand == false ? "grey" : "") + '">play_circle_filled</span>' +
                //     '</div>' +
                //     '</div>' +
                //     '<div class="card-footer">' +
                //     '<div class="btns-cont center">' +
                //     '<a class="button color-blue round small">See</a>' +
                //     '</div>' +
                //     '</div>' +
                //     '</div>' +
                //     '</div>').appendTo('.swiper-wrapper');
            }
        }
    }
</script>